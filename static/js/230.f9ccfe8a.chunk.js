"use strict";(self.webpackChunkbuddy_harmony=self.webpackChunkbuddy_harmony||[]).push([[230],{1230:function(e,t,o){o.r(t),o.d(t,{default:function(){return F}});var r=o(1413),s=o(2791),i=o(9439),n=o(7487),c=new Map([["major",{C:{open:{key:"C",position:0,root:"C3",rootString:1},base:{key:"D",position:1,root:"D3",rootString:1}},A:{open:{key:"A",position:0,root:"A2",rootString:1},base:{key:"B",position:0,root:"B2",rootString:1}},G:{open:{key:"G",position:0,root:"G2",rootString:0},base:{key:"C",position:2,root:"C3",rootString:0}},E:{open:{key:"E",position:0,root:"E2",rootString:0},base:{key:"F",position:0,root:"F2",rootString:0}},D:{open:{key:"D",position:0,root:"D3",rootString:2},base:{key:"E",position:1,root:"E3",rootString:2}}}],["minor",{C:{open:{key:"C",position:0,root:"C3",rootString:1},base:{key:"C",position:0,root:"C3",rootString:1}},A:{open:{key:"A",position:0,root:"A2",rootString:1},base:{key:"B",position:0,root:"B2",rootString:1}},G:{open:{key:"G",position:0,root:"G2",rootString:0},base:{key:"C",position:2,root:"C3",rootString:0}},E:{open:{key:"E",position:0,root:"E2",rootString:0},base:{key:"F",position:0,root:"F2",rootString:0}},D:{open:{key:"D",position:0,root:"D3",rootString:2},base:{key:"F",position:1,root:"F3",rootString:2}}}],["7",{C:{open:{key:"C",position:0,root:"C3",rootString:1},base:{key:"E",position:1,root:"E3",rootString:1}},A:{open:{key:"A",position:0,root:"A2",rootString:1},base:{key:"C",position:1,root:"C3",rootString:1}},G:{open:{key:"G",position:0,root:"G2",rootString:0},base:{key:"C",position:2,root:"C3",rootString:0}},E:{open:{key:"E",position:0,root:"E2",rootString:0},base:{key:"F",position:0,root:"F2",rootString:0}},D:{open:{key:"D",position:0,root:"D3",rootString:2},base:{key:"F",position:1,root:"F3",rootString:2}}}]]),a=o(6406),l=o(9861),d=function(e,t,o,r,s){var i=f(o.open,s,t),n=f(o.base,s,t),c=x(Object.assign({},n,{baseFret:u(e,n,o)}),r);return{open:Object.assign({},o.open,{chord:i}),base:Object.assign({},o.base,{chord:n}),positioned:Object.assign({},o.base,{chord:c})}},f=function(e,t,o){var r=(0,n.mg)(t.name,e.key,o);if(r.length>0)return r[0].positions[e.position];throw new Error("No chord for position [".concat(e.key," | ").concat(o," | ").concat(t.name,"]"))},x=function(e,t){var o=e.frets.map((function(t){return t+e.baseFret-1})).map(l.Xp.fromSemitones).map((function(e,o){return(0,l.p4)(t.tuning[o],e)}));return Object.assign({},e,{notes:o})},u=function(e,t,o){var r=t.baseFret+y(p(e,o.base.rootString),o.base.root);return console.log("Base fret",r,t,o),r<1?r+12:r},p=function(e,t){return m(t,e)||g(t,e)?"".concat(e,"2"):h(t,e)?"".concat(e,"4"):"".concat(e,"3")},m=function(e,t){return 0===e&&["E","F","F#","G","Ab","A","Bb","B"].includes(t)},g=function(e,t){return 1===e&&["A","Bb","B"].includes(t)},h=function(e,t){return 2===e&&["C","C#","D"].includes(t)},y=function(e,t){var o=l.Xp.distance(t,e);return l.Xp.semitones(o)||0},j=function(e){return n.uD.findIndex((function(t){return t.name===e.name}))>-1},N=function(e){var t=e.printRef,o=(0,n.EX)(),r=o.keys,l=o.selectedKey,f=o.setSelectedKey,x=(0,n.rV)(),u=x.guitarType,p=x.tuningType,m=(0,s.useState)([]),g=(0,i.Z)(m,2),h=g[0],y=g[1],N=(0,s.useState)(),k=(0,i.Z)(N,2),b=k[0],v=k[1],S=(0,s.useState)(),C=(0,i.Z)(S,2),E=C[0],T=C[1],F=(0,s.useState)(),A=(0,i.Z)(F,2),D=A[0],w=A[1];(0,s.useEffect)((function(){if(E&&b){var e=function(e,t,o,r,s){return{C:d(e,t,o.C,r,s),A:d(e,t,o.A,r,s),G:d(e,t,o.G,r,s),E:d(e,t,o.E,r,s),D:d(e,t,o.D,r,s)}}(b.key,b.suffix,E,p,u);w(e)}else w(void 0)}),[b,E]),(0,s.useEffect)((function(){b?T(c.get(b.suffix)):w(void 0)}),[b]),(0,s.useEffect)((function(){var e;(0,n.cP)(u,l,j,(e=Array.from(c.keys()),function(t,o){return(0,n.En)(t,o).filter((function(t){return e.includes(t.suffix)})).filter((function(e){return(0,n.yo)(t,"C").includes(e.suffix)})).filter((function(e){return(0,n.yo)(t,"A").includes(e.suffix)})).filter((function(e){return(0,n.yo)(t,"G").includes(e.suffix)})).filter((function(e){return(0,n.yo)(t,"E").includes(e.suffix)})).filter((function(e){return(0,n.yo)(t,"D").includes(e.suffix)}))}),y,v,b)}),[u,l]);return{keys:r,selectedKey:l,setSelectedKey:f,chords:h,chord:b,setChord:v,cagedChords:D,printRef:t,printStyle:function(e){return"@page: { size: A4 ".concat((a.i5.HORIZONTAL,"portrait"),", margin: 0mm 30mm 30mm 30mm }")}}},k=(o(5706),o(4680)),b=o(8826),v=o(184),S=k.i.CAGED,C=function(e){var t=e.keys,o=e.selectedKey,r=e.setSelectedKey,s=e.chords,i=e.chord,c=e.setChord,a=e.printRef;return(0,v.jsx)(b.o8,{page:S,supportedGuitars:n.uD,printRef:a,printDisabled:!i,tools:[(0,v.jsx)(b.Bg,{keys:t,selectedKey:o,setSelectedKey:r},"caged-key"),(0,v.jsx)(b.nj,{chords:s,chord:i,setChord:c},"caged-chord")]})},E=o(9139),T=function(e){var t=e.selectedKey,o=e.cagedChords,r=e.printRef,s=e.printStyle,i=(0,n.rV)().orientation;return(0,v.jsx)("div",{className:"flex flex-initial flex-col items-center",id:"caged-content",ref:r,children:o&&(0,v.jsxs)("div",{children:[(0,v.jsx)("style",{type:"text/css",media:"print",children:s(i)}),(0,v.jsxs)("div",{className:"flex flex-row",id:"caged-C",children:[(0,v.jsx)("div",{className:"flex flex-col justify-evenly",id:"caged-step",children:(0,v.jsx)(E.Typography,{className:"text-4xl font-extrabold text-blue-700",children:"C"})}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-start",id:"caged-open-c",children:[(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(E.Typography,{className:"text-2xl",children:"Open"})}),(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.C.open.chord,fretNumbersPosition:a.T6.LEFT},"open-c")})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-start",id:"caged-chord",children:[(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(E.Typography,{className:"text-2xl",children:"Positioned ".concat(t)})}),(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.C.positioned.chord,fretNumbersPosition:a.T6.LEFT,cagedColor:"stroke-blue-700 fill-blue-700"},"positioned-c")})]})]}),(0,v.jsxs)("div",{className:"flex flex-row",id:"caged-A",children:[(0,v.jsx)("div",{className:"flex flex-col justify-evenly",id:"caged-step",children:(0,v.jsx)(E.Typography,{className:"text-4xl font-extrabold text-red-700",children:"A"})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-open-c",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.A.open.chord,fretNumbersPosition:a.T6.LEFT},"open-a")})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-chord",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.A.positioned.chord,fretNumbersPosition:a.T6.LEFT,cagedColor:"stroke-red-700 fill-red-700"},"positioned-a")})})]}),(0,v.jsxs)("div",{className:"flex flex-row",id:"caged-G",children:[(0,v.jsx)("div",{className:"flex flex-col justify-evenly",id:"caged-step",children:(0,v.jsx)(E.Typography,{className:"text-4xl font-extrabold text-green-700",children:"G"})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-open-c",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.G.open.chord,fretNumbersPosition:a.T6.LEFT},"open-c")})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-chord",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.G.positioned.chord,fretNumbersPosition:a.T6.LEFT,cagedColor:"stroke-green-700 fill-green-700"},"positioned-g")})})]}),(0,v.jsxs)("div",{className:"flex flex-row",id:"caged-E",children:[(0,v.jsx)("div",{className:"flex flex-col justify-evenly",id:"caged-step",children:(0,v.jsx)(E.Typography,{className:"text-4xl font-extrabold text-orange-800",children:"E"})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-open-c",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.E.open.chord,fretNumbersPosition:a.T6.LEFT},"open-c")})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-chord",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.E.positioned.chord,fretNumbersPosition:a.T6.LEFT,cagedColor:"stroke-orange-800 fill-orange-800"},"positioned-e")})})]}),(0,v.jsxs)("div",{className:"flex flex-row",id:"caged-D",children:[(0,v.jsx)("div",{className:"flex flex-col justify-evenly",id:"caged-step",children:(0,v.jsx)(E.Typography,{className:"text-4xl font-extrabold text-deep-purple-700",children:"D"})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-open-c",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.D.open.chord,fretNumbersPosition:a.T6.LEFT},"open-d")})}),(0,v.jsx)("div",{className:"flex flex-col items-center justify-start",id:"caged-chord",children:(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(a.S0,{className:"",diagramCount:1,text:a.kJ.NOTE,chord:o.D.positioned.chord,fretNumbersPosition:a.T6.LEFT,cagedColor:"stroke-deep-purple-700 fill-deep-purple-700"},"positioned-d")})})]})]})})},F=function(){var e=(0,s.useRef)(null),t=N({printRef:e});return(0,v.jsxs)("div",{className:"page",id:"caged-page",children:[(0,v.jsx)(C,(0,r.Z)({},t)),(0,v.jsx)(T,(0,r.Z)({},t))]})}}}]);
//# sourceMappingURL=230.f9ccfe8a.chunk.js.map